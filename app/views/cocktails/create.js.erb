// If there are any errors in the submited form, then...
<% if @cocktail.errors.any? %>
  refreshErrorMessages('.cocktail_name', 1, "Name <%= @cocktail.errors.messages[:name].first %>");
  refreshErrorMessages('.cocktail_photo', 2, "Photo <%= @cocktail.errors.messages[:photo].first %>");
<% end %>

// Function that refreshes the error messages in the Cocktails#new form
// Parameters: containerSelector - selector of the container of a specific input;
//             containerChildrenNum - number of children in that container (without error messages);
//             errorMessage - the first error message of that input, or it's input denomination if there are no errors;
function refreshErrorMessages(containerSelector, containerChildrenNum, errorMessage) {
  var inputContainer = document.querySelector(containerSelector);

  // If it exists, remove any input related error message
  if (inputContainer.childElementCount > containerChildrenNum) {
    inputContainer.classList.remove('form-group-invalid');
    document.querySelector(`${containerSelector} input`).classList.remove('is-invalid');
    document.querySelector(`${containerSelector} .invalid-feedback`).remove();
  }

  // If here are input related errors, insert an error message
  if (errorMessage !== 'Name ' && errorMessage !== 'Photo ') {
    console.log(errorMessage);
    var Node = document.createElement('div');
    Node.classList = 'invalid-feedback';
    Node.innerHTML = errorMessage;

    inputContainer.classList.add('form-group-invalid');
    document.querySelector(`${containerSelector} input`).classList.add('is-invalid');
    inputContainer.appendChild(Node);
  }
}
