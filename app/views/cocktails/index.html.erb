<div class="banner">
  <div class="container">
    <h1>Le Wagon's Bar</h1>
    <p>World class cocktails waiting for you</p>

    <%= link_to "New Cocktail", new_cocktail_path, data: { toggle: "modal", target: "#ModalNewCocktail" }, class: "btn btn-gradient" %>
  </div>

  <div class="scroll-down">
    <%= link_to "#container-cards" do %>
      <i class="fas fa-angle-double-down"></i>
    <% end %>
  </div>
</div>

<div id="container-cards">
  <div class="sorter">
    <form action="/cocktails#container-cards" accept-charset="UTF-8" method="get">
      <input type="text" name="query" id="query" class="form-control" placeholder="Cocktail name">
      <button type="submit"><i class="fa fa-search"></i></button>
    </form>

    <%= link_to "Rating", cocktails_path(sort_by: "rating", anchor: "container-cards") %>
    <%= link_to "Abc", cocktails_path(sort_by: "abc", anchor: "container-cards") %>
    <%= link_to "Ingredients", cocktails_path(sort_by: "ingredients", anchor: "container-cards"), data: { toggle: "modal", target: "#ModalCocktailsFilter" } %>
  </div>

  <div class="cards">
    <% @cocktails_sorted.each do |cocktail| %>
      <%= link_to cocktail_path(cocktail) do %>
        <div class="card" data-aos="fade-zoom-in" data-aos-duration="400">
          <div class="img-card" style="background-image: url('<%= cl_image_path cocktail.photo.key, height: 250, width: 250, crop: :fill %>')"></div>

          <div class="text-card">
            <h5><%= cocktail.name %></h5>

            <% if cocktail.reviews.empty? %>
              <p>Not rated</p>
            <% else %>
              <p><%= cocktail.rating_average.round(1) %> â˜…</p>
            <% end %>
          </div>
        </div>
      <% end %>
    <% end %>
  </div>

  <div style="margin-left: 20px">
    <%= will_paginate @cocktails_sorted, renderer: WillPaginate::ActionView::BootstrapLinkRenderer, previous_label: "&laquo;", next_label: "&raquo;" %>
  </div>
</div>

<!-- Modal Cocktail New Form -->
<div class="modal fade" id="ModalNewCocktail" role="dialog">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <h4 class="modal-title">New Cocktail</h4>
        <button type="button" class="close" data-dismiss="modal">&times;</button>
      </div>

      <div class="modal-body">
        <%= render "cocktails/form-new" %>
      </div>
    </div>
  </div>
</div>

<!-- Modal Ingredients Filter -->
<div class="modal fade" id="ModalCocktailsFilter" role="dialog">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <h4 class="modal-title">Ingredients Filter</h4>
        <button type="button" class="close" data-dismiss="modal">&times;</button>
      </div>

      <div class="modal-body">
        <%= render "cocktails/form-fridge-filter" %>
      </div>
    </div>
  </div>
</div>
